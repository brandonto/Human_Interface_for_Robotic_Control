Human Interface for Robotic Control Group
Carleton University
January 11, 2016

                        The HIRC Protocol (Revision 1)

Copyright Notice

    Copyright (c) 2015 Brandon To, Minh Mai, and Yuzhou Liu. The contents of
    this file is licensed under BSD license (see LICENSE.txt for details). In
    short, you may use, copy, modify, or distribute this protocol provided
    that the names of the authors are not used to endorse any work that is
    derived from this.

Summary

    HIRCP is a very simple protocol used by the Human Interface for Robotic
    Control group at Carleton University for communication between HIRC desktop
    controller application and firmware on ARM Cortex-M4 based CC3200-LAUNCHXL
    microcontroller. This document describes the protocol and it's types of
    packets. The document also explains the reasons behind some of the design
    decisions.

1. Purpose

    HIRCCP is a simple protocol to transfer servo motor position data from
    controller application to microcontroller and transfer pressure data from
    microcontroller to controller application. It is an application layer
    protocol that is implemented on top of Internet Transmission Control
    protocol (TCP). This should not exclude the possibility of implementing
    HIRCCP on top of other transmission protocols like UDP, provided that a
    separate reliability layer exists. It is designed for a very specific
    application. Therefore, it lacks many features present in other haptics
    communication protocols. It can support connection, disconnection,
    rotation streaming (live and recorded), and pressure feedback.

2. Overview of the Protocol

    Connection begins with controller application sending a connection request
    packet to the microcontroller acting as a server. If the server grants the
    request, it sends an acknowledgement packet to signal that it is ready to
    receive position data packets. Every position data packet is acknowledged
    by a pressure packet. Connection is terminated by sending a disconnection
    request packet to the microcotroller. Connection can also be terminated
    by detecting an error and sending an error packet.

    As previously mentioned, HIRCP is an application layer protocol. This means
    that a HIRCP header will be between the TCP header and the data as shown in
    Figure 2-1. More information on the HIRCP header will be discused later in
    the document.

                ----------------------------------------------
                | Ethernet |   IP   |  TCP   | HIRCP  | Data |
                |  header  | Header | Header | Header |      |
                ----------------------------------------------

                  Figure 2-1: Packet encapsulation structure

3. HIRCP Packets

    TODO (Brandon)

